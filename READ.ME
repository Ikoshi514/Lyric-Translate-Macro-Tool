Python을 이용한 일본어에서 한국어로 노래 가사를 번역할 때 쓸만한 툴.
디씨인사이드에 글 작성할 때, HTML로 작성하기가 존재하는데, 해당 기능을 사용하기 편하게 하기 위해서 만들었음.




requirements
Python
추정: (version >= 3.5)
설치한 인터프리터가 3.7, 3.11, 3.12 뿐이기 때문에, 이외의 버전에서는 테스트해보지 않음. Type Annotation을 사용하였기 때문에, (version < 3.5) 환경에서는 확실히 작동하지 않음.




문법


HTML

<define> 태그
속성으로 갖는 것은 macro 또는 raw

macro 속성의 내용은 %로 둘러싸인 매크로로 변경됨.
e.g.) <define macro="후랑도루">플랑드르</define>
위의 매크로는 '%후랑도루%후랑도루'를 '플랑드르후랑도루'로 변경해줌.

raw 속성의 내용은 그대로 매크로가 됨.
e.g.) <define raw="꺼이싷">코이시</define>
위의 매크로는 '%꺼이싷%꺼이싷'을 '%코이시%코이시'로 변경해줌.

주의할 점
<define> 태그가 존재하는 줄은, 해당 줄에서 태그의 앞의 내용을 전부 무시. </define>으로 태그를 닫아준 줄 또한, 해당 줄에서 태그의 뒤에 있는 내용을 전부 무시.
macro와 raw 속성 뒤에는 =" 또는 ='를 띄어쓰기 등이 없이 이어서 적어야 됨. // 일반적인 html이었으면 받아줬겠지만, 귀찮았음...
e.g.) <define macro = "카리스마">카리쮸마</define>
위의 매크로는 macro와 = 사이에, 또 =와 " 사이에 띄어쓰기가 있기 때문에, 콘솔창에 오류를 출력함.


CSV

options.py에서 USE_META가 True일 때 분석함.

첫 번째 열은 Index, Kr, Jp로 구성되어 있어야 되며, 순서는 상관 없음.

Index에는 어떤 정보인지 적어야 됨. Kr과 Jp는 보이는 대로. Jp는 생략해도 되지만, Kr은 적지 않으면 아예 내용이 날아갈 수 있음.
e.g.) 원곡,소녀 사토리 ~3rd eye,少女さとり ~ 3rd eye
해당 내용은 '원곡: 소녀 사토리 ~3rd eye (少女さとり ~ 3rd eye)'로 출력됨.
e.g.) 원곡,풍신소녀,
해당 내용은 Jp를 생략했기 때문에, '원곡: 풍신소녀'로 출력됨.

나머지는 Index는 동일하게 동작하기에 생략하고, "키"라는 Index가 특수함.
유튜브의 재생키를 의미하며, 유튜브 링크 https://www.youtube.com/watch?v=DzxZQdCmi78 와 같은 경우, ?v= 뒤의 값인 "DzxZQdCmi78"이 Key값임.
"키"의 경우, Kr과 Jp 중 어느 쪽에 써도 적용되며, 유튜브 링크를 알아서 임베드 시켜줌.




제작 동기, 이미지를 포함한 설명은 이하 주소로.
https://gall.dcinside.com/mgallery/board/view/?id=teamshanghaialice&no=962530

예제는 본 리포지토리의 example/ 디렉토리로.
